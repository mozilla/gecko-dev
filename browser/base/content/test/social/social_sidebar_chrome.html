<html>
  <head>
    <meta charset="utf-8">
    <script>
      function notifyLoaded() {
        // Notify we've loaded via the observer service, doing this
        // also proves we've got chrome access.
        Components.classes["@mozilla.org/observer-service;1"]
          .getService(Components.interfaces.nsIObserverService)
          .notifyObservers(null, "sidebar-loaded", null);
        window.removeEventListener("load", notifyLoaded);
      }
      window.addEventListener("load", notifyLoaded);

      function openChat() {
        navigator.mozSocial.openChatWindow("chrome://mochitests/content/browser/browser/base/content/test/social/social_chat_chrome.html");
      }
    </script>
  </head>
  <body>
    <p>This is a test social sidebar.</p>

    <a id="openchat" onclick="openChat()">Open Chat</a>
  </body>
</html>
