https://bugzilla.mozilla.org/show_bug.cgi?id=1485636

### Diagnosis
The issue of the bug affects the internal page about:policies. 
This is the policies page for Firefox for Enterprise that allows a user to see which policies are active, which ones are not working as well as documentation for the different policies. More information about Firefox Enterprise Policies can be found [here](https://support.mozilla.org/en-US/products/firefox-enterprise).

The issue is that when resizing the window, the side panel (which allows a user to select what information they wan't to see, as described above) gets overlapped by the content body of the site. Refer to [1] in the screen shots section to see the problem. This causes an issue when trying to switch between categories (making it slightly tedious to select a category). Additionally, from a UI perspective, this does not look pleasant for a user. As noted in the bugzilla post, this is caused by an inherited CSS rule that hides category names and displays icons. However, in this page there were no icons, so the resulting behaviour is overlapped text. Also noted in the bugzilla post is that the issue also occurs in the page about:networking.

The benefits of fixing the bug include making it easier for a user to navigate between the categories. Additionally, in considering the solution proposed in the bugzilla comments, there will be consistency across different applications in terms of the side panel design. The example cited in the comments is of about:preferences, which adds an icon beside the category label. When resized smaller, the about:preferences side panel shows only the icons. This adds to the benefit of making it more user-friendly as overlapped text is replaced by a nice icon.

There aren't any risks in terms of stopping other components of the application from working properly, however it may cause issues in inconsistent definitions of CSS rules (to alleviate current issue, may have to differ from current CSS rules that are specified in files such as this [common CSS file](https://dxr.mozilla.org/mozilla-central/rev/c2593a3058afdfeaac5c990e18794ee8257afe99/browser/components/enterprisepolicies/content/aboutPolicies.css#3)). The issue isn't about overriding the components in the imported file but about defining new components that differ from the common components already established in the Mozilla codebase. This isn't debilitating so much as it could be bad practice (which seems especially bad considering the contributor proposing the solution is new).

### Solution
The solution I am proposing is what was discussed in the bugzilla comments.
It is to add an icon beside the category label.
To do this:
- First, store the appropriate icons in the right location (the icons here can be found in the bugzilla post attachments as policies-<CATEGORY>.svg)
    - The right location refers to the directory containing icons and other images. In this case, it was `browser/themes/shared/icons/`
- Second, modify icon files to be able to be modified with respect to the style of the label
    - This means that when a specific category is made active and there are CSS effects to highlight this (label colour changing to blue), there should be effects on the icon as well (change icon to blue)
    - In a more technical sense, it is to add the `fill=context-fill` and `fill-opacity=context-fill-opacity` properties (these specify the colour of the image) to the `<path>` element
- Third, modify CSS rules to make style properties available to the icons, so they can take on the effects
    - This is done by setting the `-moz-context-properties` property to `fill` and `fill-opacity`
    - `-moz-context-properties` allows an SVG to maintain specified properties of the element it's contained in (more info can be found [here](https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-context-properties))
    - These properties are inherited from the common CSS file, where elements with the class "category-icon" have the `fill` and `fill-opacity` properties specified
- Fourth, change the side panel categories to contain an image beside the labels. To maintain consistency with about:preferences, the icon is to the left of the label.
    - This means to add an `<img>` element to the `<div>` container
- Fifth, make the build of the application aware of these icons
    - At this point, the source of an image would be an absolute path to the file, however the image does not exist in the "ecosystem" of the application that is specified when the application is built. Additionally, icons are specified with the `chrome:///` prefix (to be available online), not the `file:///` prefix specified for local files. More info on chrome registration can be found [here](https://developer.mozilla.org/en-US/docs/Mozilla/Chrome_Registration)
    - To make the fix, add the images to the [JAR Manifest](https://firefox-source-docs.mozilla.org/build/buildsystem/jar-manifests.html) file with paths that should be used to refer to them
- Sixth, update image paths in the HTML and re-build the application with `./mach build` (the build takes a bit longer than it would if it were simply a frontend fix)
- Lastly, confirm changes on site

### Testing
This is a superficial fix, so to confirm changes, it is sufficient to retry the method the bug was produced to see the difference.
However, to be thorough with checking, the UI tests in the Mozilla codebase will be run. It may be overkill given the fix is isolated to one application whose functionality is isolated to the page itself (because policy information is being viewed, not modified or anything that may have effects on other applications), however it doesn't hurt to confirm that everything still works fine.
Mozilla has a feature that allows the content of the application to be displayed from right to left (referred to as RTL) for international users, i.e. Arabic, Hebrew and so the change will also be checked with the RTL specification to make sure everything looks fine. This mostly means checking to make sure that there is enough space between the icons and their respective labels. It should be mentioned that there is one method of testing that hasn't been done, this is running the application on various OS' to make sure the changes are consistent. This was the case because of the time to build the application vs. the time it takes to confirm the changes (it didn't seem reasonable).

> Screen shots
- [1](https://bug1485636.bmoattachments.org/attachment.cgi?id=9003431) - GIF showing problem
- [2](./window-bigger-no-change.png) - Before fix (full screen)
- [3](./window-smaller-no-change.png) - Before fix (resized screen- showing bug)
- [4](./window-larger-change-applied.png) - After fix (full screen- showing labels & icons)
- [5](./window-smaller-change-applied.png) - After fix (resized screen- showing icons only)
- [6](./index-of-new-icons.jpg) - Files in application (index)