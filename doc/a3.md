Bug URL: https://bugzilla.mozilla.org/show_bug.cgi?id=894391

Patch File URL: https://github.com/shn97/gecko-dev/blob/bug-894391-fix2/doc/894391.patch

Pull Request URL:

# Diagnosis
The function `getFileForURL()` in `PageThumbs.jsm`is deprecated. A new function `getFilePathForURL()` has been added to replace it. Since the deprecated method is redundant, the code becomes harder to maintain and is confusing for new developers to understand. It is also possible for developers to use the deprecated function and create bugs. Therefore, `getFileForURL()` should be removed to improve code readability and avoid confusion and potential incorrect uses of the function among other developers. The tests referencing this function should also be removed since they will fail and cause errors for the test suite. Since `getFileForURL()` has been deprecated for 2 years and over 23 releases, it is unlikely that other parts of the project apart from tests will be referencing this function and is safe to be removed.

# Solution
The function `getFileForURL()` on line 691 - 700 which is defined in `PageThumbs.jsm` is removed. There is only one test that references this function. It is a sanity check on line 77 - 87 located in `browser_thumbnails_storage_migrate3.js` and is removed.

# Testing
- After applying the patch, check if there are any occurrences of `getFileForURL` left in the project. Before the patch, there are multiple occurrences of `getFileForURL` in the `PageThumbs.jsm` and `browser_thumbnails_storage_migrate3.js`. After the patch, there are no results when searching for the string `getFileForURL` in the whole project which verifies the function and all its references are removed.
- run `./mach lint -l eslint toolkit/components/thumbnails/PageThumbs.jsm` and `./mach lint -l eslint toolkit/components/thumbnails/test/browser_thumbnails_storage_migrate3.js` to verify there are no code style errors and warnings.
- run `./mach build` to verify Firefox still builds correctly.
- run `./mach test toolkit/components/thumbnails/test` to verify the removals didn't cause existing tests to fail.
