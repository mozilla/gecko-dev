# Fix HTML tags in about:networking
https://bugzilla.mozilla.org/show_bug.cgi?id=1611195

## Diagnosis
The file `toolkit/content/aboutNetworking.html` was recently created from a `.xhtml` file which had syntax that is invalid after the conversion, however these errors don't cause any issues when loading the page because HTML parsing is quite lenient and will automatically close nodes.

In addition to this there are other bugs in the html file that can be found by running the W3 HTML Validator Tool `https://validator.w3.org/nu/`, running the tool on the file shows 86 Errors and 2 Warnings.

## Solution

After going through the errors found by the HTML Validator Tool, here are the proposed solutions for each of the errors.

- Self-closing syntax (/>) used on a non-void HTML element. Ignoring the slash and treating as a start tag.
  - This is the main issue outlined by the report on bugzilla, this can be fixed by closing all the tags properly
- Unclosed element...
  - This is the same error as the Self-closing syntax (/>)
- Stray end tag hr.
  - Same issue as Self-closing syntax (/>)
- Element title must not be empty.
  - This doesn't require a solution because in `aboutNetworking.js` the title content is replaced when loaded.
- Attribute selected not allowed on element div at this point.
  - Looking at the code, it seems this is necessary to keep track of which category is selected.
- End tag div seen, but there were open elements.
  - This is a result of unclosed tags within the div
- The checkbox role is unnecessary for element input whose type is checkbox.
  - Simply removing the `role="checkbox"` should be sufficient
- Bad value true for attribute hidden on element div.
  - Changing `hidden="true"` to `hidden` should fix this.

## Testing

After resolving all the issues found by the Validator Tool that can be fixed, I re-compiled Firefox and navigated to `about:networking` to see if the page still worked. It still had it's full functionality and loaded with no errors.

Here are the HTML Validator Tool results from [before](./before.pdf) and [after](./after.pdf).

There is only 1 Warning and 2 Errors remaining after the changes, the 2 errors are resolved or depended upon by `aboutNetworking.js` and the warning is a recommendation to specify the HTML document's language.

## Patch

Patch file can be found [here](./1611195.patch)