bbc.fmtj.utils.createObject("bbc.fmtj.common");bbc.fmtj.common.isReady=false;bbc.fmtj.common.version="3_2";gloaddisableder.loaddisabled(["glow","1","glow.dom","glow.events"],{async:true,onLoad:function(d){var b=d,a=d.dom,c=d.events;bbc.fmtj.common.bookmarks=(function(){var h="bbc.fmtj.common.bookmarks.display.DISPLAY_POPUP";var m="bbc.fmtj.common.bookmarks.display.DISPLAY_IFRAME";return{createBookmarks:f,display:{DISPLAY_POPUP:h,DISPLAY_IFRAME:m}};function f(p){if(p.container===undefined){p.container=".bookmark-list";}if(p.headline===undefined){p.headline=bbc.fmtj.page.headline;}if(p.site===undefined){p.site=bbc.fmtj.page.site;}if(p.storyId===undefined){p.storyId=bbc.fmtj.page.storyId;}if(p.sectionId===undefined){p.sectionId=bbc.fmtj.page.sectionId;}if(p.url===undefined){p.url=bbc.fmtj.page.url;}if(p.edition===undefined){p.edition=bbc.fmtj.page.edition;}if(p.display===undefined){p.display=h;}l(p);}function l(q){this.o=q;var p=a.get(q.container+" li a");c.addListener(p,"click",n,this);}function n(p){o.service=a.get(p.attachedTo).text();j(o);g(o);return false;}function j(p){bbc.fmtj.common.liveStats.createWebBug({referrer:document.location,pageType:"soc_"+p.service.toLowerCase(),sectionId:p.sectionId});return false;}function g(p){switch(p.display){case h:i(p);break;case m:e(p);break;default:break;}return false;}function i(q){var p=k(q.service,q.url,q.headline);bbc.fmtj.common.window.createPopup({url:p,resizable:1,scrollbars:1,width:750});return false;}function e(r){var q=k(r.service,r.url,r.headline);var p='<div id="bookmarkLightbox" class="bookmark-panel"><h2 class="hd">'+r.service+'</h2><div><iframe src="'+q+'">Your browser does not support frames.</iframe></div></div>';gloaddisableder.loaddisabled(["glow","1","glow.widgets.Panel"],{async:true,onLoad:function(t){var s=new t.widgets.Panel(t.dom.create(p),{width:750,theme:"dark",modal:true,anim:"fade"});s.show();}});}function k(p,q,s){var r="";switch(p.toLowerCase()){case"delicious":r="httpdisabled://del.icio.us/post?v=4&noui&jump=close&url="+q+"&title="+s;break;case"digg":r="httpdisabled://digg.com/remote-submit?phase=2&url="+q+"&title="+s;break;case"reddit":r="httpdisabled://reddit.com/submit?url="+q+"&title="+s;break;case"facebook":r="httpdisabled://www.facebook.com/sharer.php?u="+q+"&t="+s;break;case"stumbleupon":r="httpdisabled://www.stumbleupon.com/submit?url="+q+"&title="+s;break;default:break;}return r;}})();bbc.fmtj.common.cookies=(function(){var h={};return{cookie:k,loaddisabled:g,store:j,remove:f,create:e,read:i,erase:l};function e(p,s,m,u,r,t){var n=[];if(m!==null&&m!==undefined){var q=new Date(new Date(new Date()).getTime()+m*3600000).toUTCString();n.push("; expires="+q);}if(u!==null&&u!==undefined){n.push("; path="+u);}if(r!==null&&r!==undefined){n.push("; domain="+r);}if(t!==null&&t!==undefined){n.push("; secure="+t);}document.cookie=p+"="+s+n.join("");}function i(n){var q=n+"=";var m=document.cookie.split(";");for(var p=0;p<m.length;p++){var r=m[p];while(r.charAt(0)==" "){r=r.substring(1,r.length);}if(r.indexOf(q)==0){return r.substring(q.length,r.length);}}return null;}function l(m,q,n,p){e(m,"",-1,q,n,p);}function k(m){this._content=m.content;this._document=document;this._name=m.name;this._expiration=null;this._hours;this._path=null;this._domain=null;this._secure=false;if(m.hours!==undefined){this._expiration=new Date(new Date()).getTime()+m.hours*3600000;}if(m.path!==undefined){this._path=m.path;}if(m.domain!==undefined){this._domain=m.domain;}if(m.secure!==undefined){this._secure=m.secure;}return{hours:this._hours,path:this._path,name:this._name,domain:this._domain,secure:this._secure,content:this._content};}function g(m){}function j(p){var q=new String();var n=q.stringify(this._content);var m=this._name+"="+n;if(this._expiration!==undefined){this._expiration=new Date(this._expiration);m+="; expires="+this._expiration.toUTCString();}if(this._path!==undefined){m+="; path="+this._path;}if(this._domain!==undefined){m+="; domain="+this._domain;}if(this._secure!==undefined){m+="; secure";}this._document.cookie=m;}function f(m){}h.Cookie.prototype.store=function(){var p=new String();var n=p.stringify(this._content);var m=this._name+"="+n;if(this._expiration!==undefined){this._expiration=new Date(this._expiration);m+="; expires="+this._expiration.toUTCString();}if(this._path!==undefined){m+="; path="+this._path;}if(this._domain!==undefined){m+="; domain="+this._domain;}if(this._secure!==undefined){m+="; secure";}this._document.cookie=m;};h.Cookie.prototype.loaddisabled=function(t){if(t!==undefined){this._name=t;}var p=this._document.cookie;if(p==""){return false;}var n=p.indexOf(this._name+"=");if(n==-1){return false;}n+=this._name.length+1;var q=p.indexOf(";",n);if(q==-1){q=p.length;}var u=unescape(p.substring(n,q));var v=u.split("&");var s=false;for(var r=0;r<v.length;r++){if(v[r].search(/:/i)!=-1){v[r]=v[r].split(":");s=true;}else{this.content=v;}}if(s){this.content={};for(var r=0;r<v.length;r++){var m=unescape(v[r][1]);if(m=="false"){m=false;}else{if(m=="true"){m=true;}else{if(m.indexOf("[")!=-1){m=m.substring(1,m.length-1);if(m){m=m.split(",");}else{m=new Array();}}}}this.content[v[r][0]]=m;}}return true;};h.Cookie.prototype.remove=function(){var m=this._name+"=";if(this._path!==undefined){m+="; path="+this._path;}if(this._domain!==undefined){m+="; domain="+this._domain;}m+="; expires=Fri, 02-Jan-1970 00:00:00 GMT";this._document.cookie=m;};})();String.prototype.stringify=function(f){var e=":";if(arguments[1]){if(arguments[1]=="="){e="=";}}this._obj=f;if(typeof this._obj=="object"){if(this._obj!="[object Object]"){this._isArray=true;}this._str="";for(var g in this._obj){if(this._isArray){property="";}else{property=g+e;}if(typeof this._obj[g]!="function"){this._str=String(this._str)+property+this._obj[g]+"&";}}this._isArray=false;this._str=escape(this._str.substring(0,(this._str.length-1)));return(String(this._str));}if(typeof this._obj=="string"){this._str=escape(this._obj);return(String(this._str));}};bbc.fmtj.common.liveStats=(function(){return{initialise:g,createWebBug:h};function h(j){if(j.baseUrl===undefined){(j.baseUrl="httpdisabled://stats.bbc.co.uk/o.gif?");}if(j.siteName===undefined){j.siteName=bbc.fmtj.page.siteToServe;}if(j.pageType===undefined){(j.pageType="-");}if(j.storyId===undefined){j.storyId=bbc.fmtj.page.storyId;}if(j.sectionId===undefined){j.sectionId=bbc.fmtj.page.sectionId;}if(j.edition===undefined){j.edition=bbc.fmtj.page.editionToServe;}if(j.url===undefined){j.url=bbc.fmtj.page.uri;}if(j.referrer===undefined){j.referrer=bbc.fmtj.page.referrer;}if(j.queryString===undefined){j.queryString="-";}if(j.randomNumber===undefined){j.randomNumber=f();}var k=[j.baseUrl,"s",j.siteName,"t",j.pageType,"i",j.storyId,"p",j.sectionId,"a",j.edition,"u",j.url,"r",j.referrer,"q",j.queryString,"Z",j.randomNumber,""];b.onDomReady(function(){var l=new Image(1,1);l.src=k.join("~RS~");});return true;}function g(){b.ready(function(){c.addListener(document,"click",i);});}function i(n){var l=a.get(n.source);while(l.length>0&&l[0].attributes!==null&&!l.hasAttr("href")){l=a.get(l.parent());if(l.is("html, head, body")){return;}}var m=[];var j=true;m.push(e(l));var k=l.ancestors();k.filter(function(){return !(a.get(this).is("html, head, body"));}).each(function(){if(!j){return null;}var p=a.get(this);var q=e(p);m.push(q);if(isNaN(Number(q))){j=false;}});if(m.length>1||(m.length===1&&m[0]!="0")){document.cookie="BBCLiveStatsClick="+m.reverse().join("|")+";domain=bbc.co.uk;path=/;expires="+new Date(new Date().getTime()+8000).toGMTString()+";";}}function e(j){if(j.length>0&&j[0].attributes!==null&&j.hasAttr("id")){return(j.attr("id"));}var l=0;var k=j.prev();while(k.length>0){k=k.prev();l++;}return l;}function f(){var j=parseInt((Math.random()*10000)/100);if(j==100||j<10){j=99;}return j;}})();bbc.fmtj.common.removeNoScript=function(){a.get(".noscript").remove();};bbc.fmtj.common.tabs=(function(){var j=[];var i=0;return{createTabs:h};function h(m){var l=a.get(".tabbed");l.each(function(n){g(a.get(l[n]));});}function g(q){var l="bbc_fmtj_common_tabs_unique_index_"+f();q.addClass(l);var p=q.get(".tab");var m=q.get(".panel");var n=new a.NodeList();var r=new a.NodeList();p.each(function(u){var t=a.get(p.item(u));var v=true;var s=false;do{if(t.hasClass("tabbed")&&!t.hasClass(l)&&!v){s=true;}t=a.get(t.parent());v=false;}while(!t.hasClass(l)&&!s);if(!s){n.push(a.get(p.item(u)));}});m.each(function(u){var t=a.get(m.item(u));var v=true;var s=false;do{if(t.hasClass("tabbed")&&!t.hasClass(l)&&!v){s=true;}t=a.get(t.parent());v=false;}while(!t.hasClass(l)&&!s);if(!s){r.push(a.get(m.item(u)));}});q.removeClass(l);if(n.length!=r.length){return false;}n.each(function(s){k(n,r,s,q);});return true;}function k(n,m,l,p){c.addListener(n[l],"click",function(q){e(n,m,l);q.preventDefault();q.stopPropagation();},this);c.addListener(a.get(n[l]).get("a"),"focus",function(q){e(n,m,l);q.preventDefault();q.stopPropagation();},this);}function e(n,m,l){a.get(n,m).removeClass(void");a.get(n[l],m[l]).addClass(void");}function f(){return i++;}})();bbc.fmtj.common.window=(function(){var h=[];var g=-1;return{createPopup:j,href:voider:k,resizeTo:f};function f(l){if(l.height===undefined){l.height=window.height;}if(l.width===undefined){l.width=window.width;}window.resizeTo(l.width,l.height);}function e(l){if(l.url!==undefined){window.location.href=l.url;}return;}function k(l){if(l.url!==undefined){void(l.url);}return;}function j(n){if(n.url===undefined){n.url="";}if(n.toolbar===undefined){n.toolbar=0;}if(n.scrollbars===undefined){n.scrollbars=0;}if(n.location===undefined){n.location=0;}if(n.status===undefined){n.status=0;}if(n.menubar===undefined){n.menubar=0;}if(n.resizable===undefined){n.resizable=0;}if(n.top===undefined){n.top=100;}if(n.left===undefined){n.left=100;}if(n.width===undefined){n.width=671;}if(n.height===undefined){n.height=373;}if(n.name===undefined){n.name="win"+new Date().getTime();}if(n.parameters===undefined){n.parameters=b.lang.interpolate("toolbar={toolbar},scrollbars={scrollbars},location={location},status={status},menubar={menubar},resizable={resizable},width={width},height={height},top={top},left={left};",n);}var l=void(n.url,n.name,n.parameters);var m={id:++g,window:l,config:n};h.push(m);return m;}function i(l){}})();bbc.fmtj.common.isReady=true;}});