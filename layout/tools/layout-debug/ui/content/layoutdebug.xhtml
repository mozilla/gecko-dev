<?xml version="1.0"?>
<!-- vim: set shiftwidth=2 tabstop=8 expandtab :
   -
   -
   - This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<?csp default-src chrome:; style-src chrome: 'unsafe-inline'; ?>

<!DOCTYPE window>

<!--

  NOTE:  Because this window is used for layout regression tests, the
  persist attribute should never be used on anything.  Otherwise there
  is a risk of running baseline and verify runs under different
  conditions.

-->

<window
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml"
  id="main-window"
  align="stretch"
  data-l10n-id="layoutdebug-main-window"
  windowtype="mozapp:layoutdebug"
  width="1024"
  height="768"
  screenX="4"
  screenY="4"
>
  <linkset>
    <html:link rel="stylesheet" href="chrome://global/skin/global.css" />

    <html:link rel="localization" href="layoutdebug/layoutdebug.ftl" />
  </linkset>

  <script src="chrome://layoutdebug/content/layoutdebug.js" />

  <commandset id="tasksCommands">
    <command id="cmd_open" />
    <command id="cmd_close" />
    <command id="cmd_focusURLBar" />
    <command id="cmd_reload" />
    <command id="cmd_dumpContent" />
    <command id="cmd_dumpFrames" />
    <command id="cmd_dumpFramesInCSSPixels" />
    <command id="cmd_dumpTextRuns" />
    <command id="cmd_openDevTools" />
    <command id="cmd_dumpRetainedDisplayList" />
  </commandset>

  <keyset id="tasksKeys">
    <key id="key_open" key="O" modifiers="accel" command="cmd_open" />
    <key id="key_close" key="W" modifiers="accel" command="cmd_close" />
    <key
      id="key_focusURLBar"
      key="L"
      modifiers="accel"
      command="cmd_focusURLBar"
    />
    <key id="key_reload" key="R" modifiers="accel" command="cmd_reload" />
    <key
      id="key_dumpContent"
      key="D"
      modifiers="accel"
      command="cmd_dumpContent"
    />
    <!-- "D" means DOM tree -->
    <key
      id="key_dumpFrames"
      key="F"
      modifiers="accel"
      command="cmd_dumpFrames"
    />
    <key
      id="key_dumpFramesInCSSPixels"
      key="P"
      modifiers="accel"
      command="cmd_dumpFramesInCSSPixels"
    />
    <key
      id="key_dumpTextRuns"
      key="T"
      modifiers="accel"
      command="cmd_dumpTextRuns"
    />
    <!-- "G" means Graphics -->
    <key
      id="key_dumpRetainedDisplayList"
      key="G"
      modifiers="accel"
      command="cmd_dumpRetainedDisplayList"
    />
    <key id="key_devTools" keycode="VK_F12" command="cmd_openDevTools" />
  </keyset>

  <vbox flex="1">
    <toolbox>
      <toolbar type="menubar">
        <menubar id="main-menubar">
          <menu id="menu_file" label="File" accesskey="F">
            <menupopup id="menu_FilePopup">
              <menuitem
                id="menu_open"
                label="Open Fileâ€¦"
                accesskey="O"
                key="key_open"
                command="cmd_open"
              />
              <menuitem
                id="menu_close"
                label="Close"
                accesskey="C"
                key="key_close"
                command="cmd_close"
              />
            </menupopup>
          </menu>
          <menu
            id="layoutdebug-toggle-menu"
            data-l10n-id="layoutdebug-toggle-menu"
          >
            <menupopup>
              <menuitem
                type="checkbox"
                id="menu_paintDumping"
                data-l10n-id="layoutdebug-paint-dumping"
              />
              <menuitem
                type="checkbox"
                id="menu_invalidateDumping"
                data-l10n-id="layoutdebug-invalidate-dumping"
              />
              <menuseparator />
              <menuitem
                type="checkbox"
                id="menu_eventDumping"
                data-l10n-id="layoutdebug-event-dumping"
              />
              <menuitem
                type="checkbox"
                id="menu_motionEventDumping"
                data-l10n-id="layoutdebug-motion-event-dumping"
              />
              <menuitem
                type="checkbox"
                id="menu_crossingEventDumping"
                data-l10n-id="layoutdebug-crossing-event-dumping"
              />
              <menuseparator />
              <menuitem
                type="checkbox"
                id="menu_reflowCounts"
                data-l10n-id="layoutdebug-reflow-counts"
              />
              <menuitem
                type="checkbox"
                id="menu_pagedMode"
                data-l10n-id="layoutdebug-paged-mode"
              />
              <menuseparator />
              <menuitem
                type="checkbox"
                id="menu_anonymousSubtreeDumping"
                data-l10n-id="layoutdebug-anonymous-subtree-dumping"
              />
              <menuitem
                type="checkbox"
                id="menu_deterministicFrameDumping"
                data-l10n-id="layoutdebug-deterministic-frame-dumping"
              />
            </menupopup>
          </menu>
          <menu id="layoutdebug-dump-menu" data-l10n-id="layoutdebug-dump-menu">
            <menupopup>
              <menuitem
                id="menu_processIDs"
                label="Process IDs"
                accesskey="P"
              />
              <menuitem
                id="menu_dumpContent"
                data-l10n-id="layoutdebug-dump-content"
              />
              <menuitem
                id="menu_dumpFrames"
                data-l10n-id="layoutdebug-dump-frames"
              />
              <menuitem
                id="menu_dumpFramesInCSSPixels"
                data-l10n-id="layoutdebug-dump-frames-in-css-pixels"
              />
              <menuitem
                id="menu_dumpTextRuns"
                data-l10n-id="layoutdebug-dump-text-runs"
              />
              <menuitem
                id="menu_dumpViews"
                data-l10n-id="layoutdebug-dump-views"
              />
              <menuitem
                id="menu_dumpCounterManager"
                data-l10n-id="layoutdebug-dump-counter-manager"
              />
              <menuitem
                id="menu_dumpRetainedDisplayList"
                data-l10n-id="layoutdebug-dump-retained-display-list"
              />
              <menuseparator />
              <menuitem
                id="menu_dumpStyleSheets"
                data-l10n-id="layoutdebug-dump-style-sheets"
              />
              <menuitem
                id="menu_dumpMatchedRules"
                data-l10n-id="layoutdebug-dump-matched-rules"
              />
              <menuitem
                id="menu_dumpComputedStyles"
                data-l10n-id="layoutdebug-dump-computed-styles"
              />
              <menuseparator />
              <menuitem
                id="menu_dumpReflowStats"
                data-l10n-id="layoutdebug-dump-reflow-stats"
              />
            </menupopup>
          </menu>
          <menu id="tasksMenu" />
          <menu id="menu_Help" />
        </menubar>
      </toolbar>

      <toolbar id="nav-toolbar">
        <toolbarbutton
          id="back-button"
          class="toolbarbutton-1"
          data-l10n-id="layoutdebug-back-button"
        />
        <toolbarbutton
          id="forward-button"
          class="toolbarbutton-1"
          data-l10n-id="layoutdebug-forward-button"
        />
        <toolbarbutton
          id="reload-button"
          class="toolbarbutton-1"
          data-l10n-id="layoutdebug-reload-button"
          command="cmd_reload"
        />
        <toolbarbutton
          id="stop-button"
          class="toolbarbutton-1"
          data-l10n-id="layoutdebug-stop-button"
        />

        <html:input id="urlbar" style="flex: 1" />
      </toolbar>
    </toolbox>

    <browser
      flex="1"
      id="browser"
      type="content"
      primary="true"
      remote="true"
      remoteType="web"
    />

    <hbox>
      <description id="status-text" value="" />
    </hbox>
  </vbox>
</window>
