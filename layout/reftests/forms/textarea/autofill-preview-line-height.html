<!doctype html>
<style>
  textarea { height: 4em; font-family: system-ui }
</style>
<textarea>Autofill</textarea>
<script>
  let textarea = SpecialPowers.wrap(document.querySelector("textarea"));
  SpecialPowers.Cc["@mozilla.org/satchel/form-fill-controller;1"].getService(SpecialPowers.Ci.nsIFormFillController).markAsAutoCompletableField(textarea);
  textarea.getBoundingClientRect(); // previewValue setter depends on the reframe posted by markAsAutoCompletableField() having being processed...
  textarea.previewValue = "Autofill";
  textarea.autofillState = "preview";
</script>
