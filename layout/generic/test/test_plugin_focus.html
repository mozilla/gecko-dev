<html title="Test plugin focus control">
<head>
  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
  <script type="application/javascript" src="plugin-utils.js"></script>
  <script type="application/javascript">
    setTestPluginEnabledState(SpecialPowers.Ci.nsIPluginTag.STATE_ENABLED);
  </script>
  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
</head>
<body>

<script class="testbody" type="application/javascript">

var child;
function childDone() {
  child.close();
  // This test has a history of focus issues, but waiting for focus to return
  // from the child window instead of attempting to reclaim it after finish
  // seems to prevent some kind of race on win8 (Bug 874843)
  SimpleTest.waitForFocus(SimpleTest.finish, window);
}

SimpleTest.waitForExplicitFinish();
child = window.open("plugin_focus_helper.html", "", "width=620,height=320");
</script>

</body>
</html>
