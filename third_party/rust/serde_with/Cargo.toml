# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.70"
name = "serde_with"
version = "3.12.0"
authors = [
    "Jonas Bushart",
    "Marcin Ka≈∫mierczak",
]
build = false
include = [
    "src/**/*",
    "tests/**/*",
    "LICENSE-*",
    "README.md",
    "CHANGELOG.md",
]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Custom de/serialization functions for Rust's serde"
documentation = "https://docs.rs/serde_with/"
readme = "README.md"
keywords = [
    "serde",
    "utilities",
    "serialization",
    "deserialization",
]
categories = [
    "encoding",
    "no-std",
    "no-std::no-alloc",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/jonasbb/serde_with/"

[package.metadata.docs.rs]
all-features = true
rustdoc-args = [
    "--cfg=docsrs",
    "-Zunstable-options",
    "--generate-link-to-definition",
]

[package.metadata.release]
tag = true
tag-message = "{{crate_name}} v{{version}}"
tag-name = "v{{version}}"

[[package.metadata.release.pre-release-replacements]]
file = "CHANGELOG.md"
replace = """
[Unreleased]

## [{{version}}] - {{date}}"""
search = '\[Unreleased\]'

[[package.metadata.release.pre-release-replacements]]
file = "src/lib.rs"
replace = "https://docs.rs/serde_with/{{version}}/"
search = 'https://docs\.rs/serde_with/[\d.]+/'

[[package.metadata.release.pre-release-replacements]]
file = "README.md"
replace = "https://docs.rs/serde_with/{{version}}/"
search = 'https://docs\.rs/serde_with/[\d.]+/'

[lib]
name = "serde_with"
path = "src/lib.rs"

[[test]]
name = "base64"
path = "tests/base64.rs"
required-features = [
    "base64",
    "macros",
]

[[test]]
name = "chrono_0_4"
path = "tests/chrono_0_4.rs"
required-features = [
    "chrono_0_4",
    "macros",
]

[[test]]
name = "derives"
path = "tests/derives/lib.rs"
required-features = ["macros"]

[[test]]
name = "hashbrown_0_14"
path = "tests/hashbrown_0_14.rs"
required-features = [
    "hashbrown_0_14",
    "macros",
]

[[test]]
name = "hashbrown_0_15"
path = "tests/hashbrown_0_15.rs"
required-features = [
    "hashbrown_0_15",
    "macros",
]

[[test]]
name = "hex"
path = "tests/hex.rs"
required-features = [
    "hex",
    "macros",
]

[[test]]
name = "indexmap_1"
path = "tests/indexmap_1.rs"
required-features = [
    "indexmap_1",
    "macros",
]

[[test]]
name = "indexmap_2"
path = "tests/indexmap_2.rs"
required-features = [
    "indexmap_2",
    "macros",
]

[[test]]
name = "json"
path = "tests/json.rs"
required-features = [
    "json",
    "macros",
]

[[test]]
name = "rust"
path = "tests/rust.rs"
required-features = ["alloc"]

[[test]]
name = "schemars_0_8"
path = "tests/schemars_0_8.rs"
required-features = ["schemars_0_8"]

[[test]]
name = "serde_as"
path = "tests/serde_as/lib.rs"
required-features = ["macros"]

[[test]]
name = "time_0_3"
path = "tests/time_0_3.rs"
required-features = [
    "macros",
    "time_0_3",
]

[[test]]
name = "utils"
path = "tests/utils.rs"

[[test]]
name = "version_numbers"
path = "tests/version_numbers.rs"

[[test]]
name = "with_prefix"
path = "tests/with_prefix.rs"
required-features = ["macros"]

[[test]]
name = "with_suffix"
path = "tests/with_suffix.rs"

[dependencies.base64]
version = "0.22.1"
optional = true
default-features = false

[dependencies.chrono_0_4]
version = "0.4.20"
features = ["serde"]
optional = true
default-features = false
package = "chrono"

[dependencies.doc-comment]
version = "0.3.3"
optional = true

[dependencies.document-features]
version = "0.2.7"
optional = true

[dependencies.hashbrown_0_14]
version = "0.14.0"
features = ["serde"]
optional = true
default-features = false
package = "hashbrown"

[dependencies.hashbrown_0_15]
version = "0.15.0"
features = ["serde"]
optional = true
default-features = false
package = "hashbrown"

[dependencies.hex]
version = "0.4.3"
optional = true
default-features = false

[dependencies.indexmap_1]
version = "1.8"
features = ["serde-1"]
optional = true
default-features = false
package = "indexmap"

[dependencies.indexmap_2]
version = "2.0"
features = ["serde"]
optional = true
default-features = false
package = "indexmap"

[dependencies.schemars_0_8]
version = "0.8.16"
optional = true
default-features = false
package = "schemars"

[dependencies.serde]
version = "1.0.152"
default-features = false

[dependencies.serde_derive]
version = "1.0.152"

[dependencies.serde_json]
version = "1.0.45"
optional = true
default-features = false

[dependencies.serde_with_macros]
version = "=3.12.0"
optional = true

[dependencies.time_0_3]
version = "~0.3.36"
optional = true
default-features = false
package = "time"

[dev-dependencies.expect-test]
version = "1.5.0"

[dev-dependencies.fnv]
version = "1.0.6"

[dev-dependencies.glob]
version = "0.3.0"

[dev-dependencies.jsonschema]
version = "0.26.1"
features = ["resolve-file"]
default-features = false

[dev-dependencies.mime]
version = "0.3.16"

[dev-dependencies.pretty_assertions]
version = "1.4.0"

[dev-dependencies.regex]
version = "1.11.0"
features = ["std"]
default-features = false

[dev-dependencies.rmp-serde]
version = "1.3.0"

[dev-dependencies.ron]
version = "0.8"

[dev-dependencies.rustversion]
version = "1.0.0"

[dev-dependencies.schemars_0_8]
version = "0.8.16"
package = "schemars"

[dev-dependencies.serde]
version = "1.0.152"
features = ["derive"]
default-features = false

[dev-dependencies.serde-xml-rs]
version = "0.6.0"

[dev-dependencies.serde_json]
version = "1.0.25"
features = ["preserve_order"]

[dev-dependencies.serde_test]
version = "1.0.124"

[dev-dependencies.serde_yaml]
version = "0.9.2"

[dev-dependencies.version-sync]
version = "0.9.1"

[features]
alloc = [
    "serde/alloc",
    "base64?/alloc",
    "chrono_0_4?/alloc",
    "hex?/alloc",
    "serde_json?/alloc",
    "time_0_3?/alloc",
]
base64 = [
    "dep:base64",
    "alloc",
]
chrono = ["chrono_0_4"]
chrono_0_4 = ["dep:chrono_0_4"]
default = [
    "std",
    "macros",
]
guide = [
    "dep:doc-comment",
    "dep:document-features",
    "macros",
    "std",
]
hashbrown_0_14 = [
    "dep:hashbrown_0_14",
    "alloc",
]
hashbrown_0_15 = [
    "dep:hashbrown_0_15",
    "alloc",
]
hex = [
    "dep:hex",
    "alloc",
]
indexmap = ["indexmap_1"]
indexmap_1 = [
    "dep:indexmap_1",
    "alloc",
]
indexmap_2 = [
    "dep:indexmap_2",
    "alloc",
]
json = [
    "dep:serde_json",
    "alloc",
]
macros = ["dep:serde_with_macros"]
schemars_0_8 = [
    "dep:schemars_0_8",
    "std",
    "serde_with_macros?/schemars_0_8",
]
std = [
    "alloc",
    "serde/std",
    "chrono_0_4?/clock",
    "chrono_0_4?/std",
    "indexmap_1?/std",
    "indexmap_2?/std",
    "time_0_3?/serde-well-known",
    "time_0_3?/std",
]
time_0_3 = ["dep:time_0_3"]

[badges.maintenance]
status = "actively-developed"

[lints.clippy]
cloned_instead_of_copied = "warn"
default_trait_access = "warn"
doc_markdown = "warn"
explicit_auto_deref = "allow"
manual-unwrap-or-default = "allow"
redundant_closure_for_method_calls = "warn"
semicolon_if_nothing_returned = "warn"

[lints.rust]
missing_docs = "warn"
trivial_casts = "warn"
trivial_numeric_casts = "warn"
unused_extern_crates = "warn"
unused_import_braces = "warn"
variant_size_differences = "warn"

[lints.rust.rust_2018_idioms]
level = "warn"
priority = -1

[lints.rust.unexpected_cfgs]
level = "warn"
priority = 0
check-cfg = [
    "cfg(tarpaulin)",
    "cfg(tarpaulin_include)",
]

[lints.rustdoc]
missing_crate_level_docs = "warn"
