[fontname.html]
  type: testharness
  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "<span>[foo</span> <span>bar\]</span>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "<p>[foo</p><p> <span>bar</span> </p><p>baz\]</p>" compare innerHTML]
    expected: FAIL

  [[["fontname","sans-serif"\]\] "<span>foo[</span><span>\]bar</span>" queryCommandValue("fontname") before]
    expected: FAIL

  [[["fontname","sans-serif"\]\] "<span>foo[</span><span>\]bar</span>" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<code>[bar\]</code>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<code>[bar\]</code>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<code>[bar\]</code>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<code>[bar\]</code>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<kbd>[bar\]</kbd>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<kbd>[bar\]</kbd>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<kbd>[bar\]</kbd>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<kbd>[bar\]</kbd>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<samp>[bar\]</samp>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<samp>[bar\]</samp>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<samp>[bar\]</samp>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<samp>[bar\]</samp>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>[bar\]</tt>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>[bar\]</tt>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<listing>b[a\]r</listing>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<listing>b[a\]r</listing>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<listing>b[a\]r</listing>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<listing>b[a\]r</listing>baz" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>b[a\]r</tt>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>b[a\]r</tt>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<code>bar</code>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<code>bar</code>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<code>bar</code>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<code>bar</code>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<kbd>bar</kbd>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<kbd>bar</kbd>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<kbd>bar</kbd>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<kbd>bar</kbd>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<samp>bar</samp>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<samp>bar</samp>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<samp>bar</samp>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<samp>bar</samp>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<tt>bar</tt>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<tt>bar</tt>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<listing>ba\]r</listing>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<listing>ba\]r</listing>baz" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<listing>ba\]r</listing>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<listing>ba\]r</listing>baz" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "[foo<tt>ba\]r</tt>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "[foo<tt>ba\]r</tt>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<listing>b[ar</listing>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<listing>b[ar</listing>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<listing>b[ar</listing>baz\]" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<listing>b[ar</listing>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<listing>b[ar</listing>baz\]" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<listing>b[ar</listing>baz\]" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>b[ar</tt>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>b[ar</tt>baz\]" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<span style=\\"font-family: monospace\\">b[a\]r</span>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>}bar" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>}bar" queryCommandValue("fontname") before]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>}bar" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>}bar" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>}bar" queryCommandValue("fontname") before]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>}bar" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" queryCommandIndeterm("fontname") before]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" queryCommandValue("fontname") before]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" queryCommandIndeterm("fontname") before]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" queryCommandValue("fontname") before]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "foo<tt>{<br></tt>b\]ar" queryCommandValue("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "fo[o<span style=font-family:monospace>b\]ar</span>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<span style=font-family:monospace>ba[r</span>b\]az" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo[<span style=font-family:monospace>b\]ar</span>baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "foo<span style=font-family:monospace>ba[r</span>\]baz" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "fo[o<listing>b\]ar</listing>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "fo[o<listing>b\]ar</listing>" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "fo[o<listing>b\]ar</listing>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "fo[o<listing>b\]ar</listing>" queryCommandIndeterm("fontname") after]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "fo[o<tt>b\]ar</tt>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "fo[o<tt>b\]ar</tt>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "<tt>fo[o</tt><code>b\]ar</code>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","false"\],["fontname","sans-serif"\]\] "<tt>fo[o</tt><code>b\]ar</code>" compare innerHTML]
    expected: FAIL

  [[["stylewithcss","true"\],["fontname","sans-serif"\]\] "<span style=font-family:monospace>fo[o</span><kbd>b\]ar</kbd>" compare innerHTML]
    expected: FAIL

